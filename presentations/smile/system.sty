\ProvidesPackage{system}

\RequirePackage{listings}
\RequirePackage{smilecolor}
\RequirePackage{calc}

\newlength{\@framesep}
\setlength{\@framesep}{3pt}
\newlength{\@numbersep}
\setlength{\@numbersep}{\@framesep + 5pt}

% design general command
\newcommand{\commandset}[1][]
{
\lstset{
framesep=\@framesep,
xleftmargin=\@framesep,
xrightmargin=\@framesep,
numbersep=\@numbersep,
breaklines=true,
language=bash,
frame=single,
frameround=ffff,
numbers=left,
captionpos=b,
numberstyle=\tiny,
commentstyle=\ttfamily\it,
identifierstyle=\ttfamily,
stringstyle=\ttfamily,
keywordstyle=\ttfamily,
basicstyle=\ttfamily\color{black},
backgroundcolor=\color{smileGrey!10},
#1
}
}

% nothing special for user's command
\lstnewenvironment{usercommand}[1][]
{\commandset[#1]{}}
{}

% color in red root's commands
\lstnewenvironment{rootcommand}[1][]
{\commandset[rulecolor=\color{red},numberstyle=\tiny\color{red},backgroundcolor=\color{red!10},#1]{}}
{}

\newcommand{\filename}[1]{\texttt{#1}}

\newcommand{\ext}[1]{\texttt{#1}}

\newcommand{\command}[1]{\textbf{#1}}
