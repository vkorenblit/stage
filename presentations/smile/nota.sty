\ProvidesPackage{nota}

\RequirePackage{ifthen}
\RequirePackage{calc}
\RequirePackage{graphicx}

\newlength{\@notaPadding}
\newlength{\@notaWidth}
\newlength{\@notaHeight}
\newlength{\@notaLineWidth}
\newlength{\@notaSpace}
\newlength{\@notaSkip}
\setlength{\@notaSkip}{0.5\baselineskip plus 0.25\baselineskip minus 0.25\baselineskip}%

%params :
%  - image
%  - width
%  - heigth
\newenvironment{nota}[3]
{\vspace{\@notaSkip}%
\setlength{\@notaWidth}{#2}%
\setlength{\@notaHeight}{#3}%
\setlength{\@notaSpace}{0.5em}%
\setlength{\@notaPadding}{\@notaWidth + \@notaSpace}%
\setlength{\@notaLineWidth}{\textwidth - \@notaPadding}%
\setlength{\fboxsep}{0pt}%
\newcommand{\@defaultLineIndent}{\@notaPadding\@notaLineWidth}
\parshape=3%
\@defaultLineIndent%
\@defaultLineIndent%
0pt\textwidth%
\noindent%
\raisebox{-\@notaHeight+2ex}[0pt][0pt]{%
\makebox[0pt][r]{%
\includegraphics[width=\@notaWidth,height=\@notaHeight]{#1}%
\hspace*{\@notaSpace}%
}%
}%
\ignorespaces}
{\vspace{\@notaSkip}\par}

\newenvironment{attention}{
\bf%
\begin{nota}{attention}{2.25\baselineskip}{2\baselineskip}%
}
{\end{nota}}

\newenvironment{note}{
\it%
\begin{nota}{note}{2\baselineskip}{2\baselineskip}%
}
{\end{nota}}
